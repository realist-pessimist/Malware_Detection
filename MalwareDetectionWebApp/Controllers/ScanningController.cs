using System;
using MalwareDetectionWebApp.DTO;
using Microsoft.AspNetCore.Authorization;
using Microsoft.AspNetCore.Http;
using Microsoft.AspNetCore.Mvc;

namespace MalwareDetectionWebApp.Controllers
{
    [ApiController]
    [Route("scanning")]
    public class ScanningController : ControllerBase
    {

        /// <summary>
        /// 
        /// </summary>
        /// <returns></returns>
        [HttpPost]
        [AllowAnonymous]
        [Route("")]
        public ActionResult<ScanningResult> Post([FromForm] ScanningDTO file)
        {
            Random rnd = new Random();
            int result = rnd.Next(0, 1);
            return Ok(new ScanningResult
            {
                IsMalware = result == 0
                    ? false
                    : true
            });
        }
    }

}